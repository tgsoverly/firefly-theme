!function t(i,r,s){function h(n,a){if(!r[n]){if(!i[n]){var o="function"==typeof require&&require;if(!a&&o)return o(n,!0);if(e)return e(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var f=r[n]={exports:{}};i[n][0].call(f.exports,function(t){var r=i[n][1][t];return h(r?r:t)},f,f.exports,t,i,r,s)}return r[n].exports}for(var e="function"==typeof require&&require,n=0;n<s.length;n++)h(s[n]);return h}({1:[function(t,i,r){window.firefly=t("./lib/firefly.js")},{"./lib/firefly.js":2}],2:[function(t,i,r){function s(){console.log("resizing firefly container"),a=d.outerWidth(),o=d.outerHeight(),$("#firefly-canvas").attr("width",a).attr("height",o)}function h(){f.clearRect(0,0,a,o);for(var t=0;t<u.length;t++)u[t].fade(),u[t].move(),u[t].draw()}function e(){this.s={ttl:8e3,xmax:5,ymax:2,rmax:10,rt:1,xdef:960,ydef:540,xdrift:4,ydrift:4,random:!0,blink:!0},this.reset=function(){this.x=this.s.random?a*Math.random():this.s.xdef,this.y=this.s.random?o*Math.random():this.s.ydef,this.r=(this.s.rmax-1)*Math.random()+1,this.dx=Math.random()*this.s.xmax*(Math.random()<.5?-1:1),this.dy=Math.random()*this.s.ymax*(Math.random()<.5?-1:1),this.hl=this.s.ttl/m*(this.r/this.s.rmax),this.rt=Math.random()*this.hl,this.s.rt=Math.random()+1,this.stop=.2*Math.random()+.4,this.s.xdrift*=Math.random()*(Math.random()<.5?-1:1),this.s.ydrift*=Math.random()*(Math.random()<.5?-1:1)},this.fade=function(){this.rt+=this.s.rt},this.draw=function(){this.s.blink&&(this.rt<=0||this.rt>=this.hl)?this.s.rt=this.s.rt*-1:this.rt>=this.hl&&this.reset();var t=1-this.rt/this.hl;f.beginPath(),f.arc(this.x,this.y,this.r,0,2*Math.PI,!0),f.closePath();var i=this.r*t;l=f.createRadialGradient(this.x,this.y,0,this.x,this.y,i<=0?1:i),l.addColorStop(0,"rgba(238,180,28,"+t+")"),l.addColorStop(this.stop,"rgba(238,180,28,"+.2*t+")"),l.addColorStop(1,"rgba(238,180,28,0)"),f.fillStyle=l,f.fill()},this.move=function(){this.x+=this.rt/this.hl*this.dx,this.y+=this.rt/this.hl*this.dy,(this.x>a||this.x<0)&&(this.dx*=-1),(this.y>o||this.y<0)&&(this.dy*=-1)},this.getX=function(){return this.x},this.getY=function(){return this.y}}var n,a,o,d,f,l,c={elementSelector:"#container"},u=new Array,m=50;i.exports=function(t){console.log("loading firefly"),n=$.extend({},c,t),d=$(n.elementSelector),d.append('<canvas id="firefly-canvas"></canvas>');var i=document.getElementById("firefly-canvas");f=i.getContext("2d"),s(),d.resize(s);for(var r=0;r<50;r++)u[r]=new e,u[r].reset();setInterval(h,m)}},{}]},{},[1]);
